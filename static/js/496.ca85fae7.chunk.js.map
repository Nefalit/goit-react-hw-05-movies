{"version":3,"file":"static/js/496.ca85fae7.chunk.js","mappings":"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","sources":["webpack://goit-react-hw-05-movies/./src/components/SearchForm/searchForm.module.css?a515","components/SearchForm/SearchForm.jsx","webpack://goit-react-hw-05-movies/./src/pages/Movies/movies.module.css?e50d","pages/Movies/Movies.jsx","services/api.js"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"form\":\"searchForm_form__o5IOL\",\"input\":\"searchForm_input__5z1VD\",\"btn\":\"searchForm_btn__ZOFJW\"};","import PropTypes from 'prop-types';\nimport { useState } from 'react';\nimport s from './searchForm.module.css';\n\nfunction SearchForm({ onSubmit }) {\n  const [searchQuery, setSearchQuery] = useState('');\n\n  const handleSubmit = event => {\n    event.preventDefault();\n    onSubmit(searchQuery);\n    setSearchQuery('');\n  };\n\n  const handleChange = ev => {\n    setSearchQuery(ev.currentTarget.value.toLowerCase());\n  };\n\n  return (\n    <form className={s.form} onSubmit={handleSubmit}>\n      <input\n        className={s.input}\n        onChange={handleChange}\n        value={searchQuery}\n        type=\"text\"\n        autoComplete=\"off\"\n        placeholder=\"Введіть назву фільму...\"\n        autoFocus\n      />\n      <button className={s.btn} type=\"submit\">\n        Шукати\n      </button>\n    </form>\n  );\n}\n\nSearchForm.propTypes = {\n  onSubmit: PropTypes.func.isRequired,\n};\n\nexport default SearchForm;\n","// extracted by mini-css-extract-plugin\nexport default {\"wrapper\":\"movies_wrapper__s+FQe\",\"list\":\"movies_list__ZyEjX\",\"item\":\"movies_item__bjHKk\",\"img\":\"movies_img__5k5xH\",\"link\":\"movies_link__m1ktW\",\"text\":\"movies_text__Ci4Au\",\"error\":\"movies_error__R7eGr\",\"notification\":\"movies_notification__5mtmR movies_error__R7eGr\"};","import { useEffect, useState } from 'react';\nimport { useLocation, useSearchParams, Link } from 'react-router-dom';\nimport { ThreeDots } from 'react-loader-spinner';\nimport SearchForm from '../../components/SearchForm/SearchForm';\nimport { getSearchMovies } from '../../services/api';\nimport noImg from '../../img/noImgMovie.jpg';\nimport s from './movies.module.css';\n\nfunction Movies() {\n  const [movies, setMovies] = useState([]);\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState(false);\n  const location = useLocation();\n  const [searchParams, setSearchParams] = useSearchParams();\n  const searchQuery = searchParams.get('query');\n\n  useEffect(() => {\n    async function searchMovies() {\n      if (!searchQuery) {\n        return;\n      }\n      try {\n        setLoading(true);\n        setError(false);\n        const movie = await getSearchMovies(searchQuery);\n        setMovies(movie);\n      } catch (err) {\n        setError(err);\n      } finally {\n        setLoading(false);\n      }\n    }\n    searchMovies();\n  }, [searchQuery]);\n\n  const handleSubmit = querySearch => {\n    setSearchParams({ query: querySearch });\n  };\n\n  const elements = movies.map(({ id, title, poster_path }) => (\n    <li className={s.item} key={id}>\n      <Link to={`/movies/${id}`} state={{ from: location }} className={s.link}>\n        <img\n          className={s.img}\n          src={\n            poster_path\n              ? `https://image.tmdb.org/t/p/w300${poster_path}`\n              : noImg\n          }\n          alt={title}\n        ></img>\n        <p>{title}</p>\n      </Link>\n    </li>\n  ));\n\n  return (\n    <div className={s.wrapper}>\n      <SearchForm onSubmit={handleSubmit} />\n      {loading && <ThreeDots color=\"#ff6b08\" height={80} width={80} />}\n      {error && <p className={s.error}>Щось пішло не так : {error}</p>}\n      {movies.length > 0 && <ul className={s.list}>{elements}</ul>}\n      {!loading && searchQuery && movies.length < 1 && (\n        <p className={s.notification}>\n          Не знайдено фільмів по такому запиту, спробуй ще...\n        </p>\n      )}\n    </div>\n  );\n}\n\nexport default Movies;\n","import axios from 'axios';\n\nconst instance = axios.create({\n  baseURL: \"https://api.themoviedb.org/3/\",\n});\nconst ROOT_KEY = 'f3ea85ad66a7076fbd3968a20cd79e45';\n\nexport async function getTrending() {\n  const { data } = await instance.get(\n    `trending/movie/day?api_key=${ROOT_KEY}`\n  );\n  return data.results;\n}\n\nexport async function getSearchMovies(query) {\n  const { data } = await instance.get(\n    `search/movie?api_key=${ROOT_KEY}&query=${query}`\n  );\n  return data.results;\n}\n\nexport async function getMovieDetails(movieId) {\n  const { data } = await instance.get(\n    `movie/${movieId}?api_key=${ROOT_KEY}`\n  );\n  return data;\n}\n\nexport async function getMovieCredits(movieId) {\n  const { data } = await instance.get(\n    `movie/${movieId}/credits?api_key=${ROOT_KEY}`\n  );\n  return data;\n}\n\nexport async function getMovieReviews(movieId) {\n  const { data } = await instance.get(\n    `movie/${movieId}/reviews?api_key=${ROOT_KEY}`\n  );\n  return data;\n}\n"],"names":["onSubmit","useState","searchQuery","setSearchQuery","className","s","event","preventDefault","onChange","ev","currentTarget","value","toLowerCase","type","autoComplete","placeholder","autoFocus","movies","setMovies","loading","setLoading","error","setError","location","useLocation","useSearchParams","searchParams","setSearchParams","get","useEffect","getSearchMovies","movie","searchMovies","elements","map","id","title","poster_path","to","state","from","src","noImg","alt","querySearch","query","color","height","width","length","instance","axios","baseURL","ROOT_KEY","getTrending","data","results","getMovieDetails","movieId","getMovieCredits","getMovieReviews"],"sourceRoot":""}