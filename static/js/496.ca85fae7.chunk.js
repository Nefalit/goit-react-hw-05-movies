"use strict";(self.webpackChunkgoit_react_hw_05_movies=self.webpackChunkgoit_react_hw_05_movies||[]).push([[496],{5496:function(t,e,r){r.r(e),r.d(e,{default:function(){return Z}});var n=r(5861),a=r(885),s=r(7757),c=r.n(s),u=r(2791),i=r(501),o=r(6871),p=r(6373),f="searchForm_form__o5IOL",m="searchForm_input__5z1VD",l="searchForm_btn__ZOFJW",h=r(184);var v=function(t){var e=t.onSubmit,r=(0,u.useState)(""),n=(0,a.Z)(r,2),s=n[0],c=n[1];return(0,h.jsxs)("form",{className:f,onSubmit:function(t){t.preventDefault(),e(s),c("")},children:[(0,h.jsx)("input",{className:m,onChange:function(t){c(t.currentTarget.value.toLowerCase())},value:s,type:"text",autoComplete:"off",placeholder:"\u0412\u0432\u0435\u0434\u0456\u0442\u044c \u043d\u0430\u0437\u0432\u0443 \u0444\u0456\u043b\u044c\u043c\u0443...",autoFocus:!0}),(0,h.jsx)("button",{className:l,type:"submit",children:"\u0428\u0443\u043a\u0430\u0442\u0438"})]})},_=r(4390),d=r(9841),x="movies_wrapper__s+FQe",b="movies_list__ZyEjX",y="movies_item__bjHKk",g="movies_img__5k5xH",k="movies_link__m1ktW",w="movies_error__R7eGr",j="movies_notification__5mtmR movies_error__R7eGr";var Z=function(){var t=(0,u.useState)([]),e=(0,a.Z)(t,2),r=e[0],s=e[1],f=(0,u.useState)(!1),m=(0,a.Z)(f,2),l=m[0],Z=m[1],N=(0,u.useState)(!1),S=(0,a.Z)(N,2),F=S[0],C=S[1],H=(0,o.TH)(),R=(0,i.lr)(),q=(0,a.Z)(R,2),L=q[0],T=q[1],V=L.get("query");(0,u.useEffect)((function(){function t(){return(t=(0,n.Z)(c().mark((function t(){var e;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(V){t.next=2;break}return t.abrupt("return");case 2:return t.prev=2,Z(!0),C(!1),t.next=7,(0,_.V0)(V);case 7:e=t.sent,s(e),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(2),C(t.t0);case 14:return t.prev=14,Z(!1),t.finish(14);case 17:case"end":return t.stop()}}),t,null,[[2,11,14,17]])})))).apply(this,arguments)}!function(){t.apply(this,arguments)}()}),[V]);var z=r.map((function(t){var e=t.id,r=t.title,n=t.poster_path;return(0,h.jsx)("li",{className:y,children:(0,h.jsxs)(i.rU,{to:"/movies/".concat(e),state:{from:H},className:k,children:[(0,h.jsx)("img",{className:g,src:n?"https://image.tmdb.org/t/p/w300".concat(n):d,alt:r}),(0,h.jsx)("p",{children:r})]})},e)}));return(0,h.jsxs)("div",{className:x,children:[(0,h.jsx)(v,{onSubmit:function(t){T({query:t})}}),l&&(0,h.jsx)(p.g4,{color:"#ff6b08",height:80,width:80}),F&&(0,h.jsxs)("p",{className:w,children:["\u0429\u043e\u0441\u044c \u043f\u0456\u0448\u043b\u043e \u043d\u0435 \u0442\u0430\u043a : ",F]}),r.length>0&&(0,h.jsx)("ul",{className:b,children:z}),!l&&V&&r.length<1&&(0,h.jsx)("p",{className:j,children:"\u041d\u0435 \u0437\u043d\u0430\u0439\u0434\u0435\u043d\u043e \u0444\u0456\u043b\u044c\u043c\u0456\u0432 \u043f\u043e \u0442\u0430\u043a\u043e\u043c\u0443 \u0437\u0430\u043f\u0438\u0442\u0443, \u0441\u043f\u0440\u043e\u0431\u0443\u0439 \u0449\u0435..."})]})}},4390:function(t,e,r){r.d(e,{Hg:function(){return o},TP:function(){return l},V0:function(){return f},tx:function(){return d},zv:function(){return v}});var n=r(5861),a=r(7757),s=r.n(a),c=r(4569),u=r.n(c)().create({baseURL:"https://api.themoviedb.org/3/"}),i="f3ea85ad66a7076fbd3968a20cd79e45";function o(){return p.apply(this,arguments)}function p(){return(p=(0,n.Z)(s().mark((function t(){var e,r;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,u.get("trending/movie/day?api_key=".concat(i));case 2:return e=t.sent,r=e.data,t.abrupt("return",r.results);case 5:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function f(t){return m.apply(this,arguments)}function m(){return(m=(0,n.Z)(s().mark((function t(e){var r,n;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,u.get("search/movie?api_key=".concat(i,"&query=").concat(e));case 2:return r=t.sent,n=r.data,t.abrupt("return",n.results);case 5:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function l(t){return h.apply(this,arguments)}function h(){return(h=(0,n.Z)(s().mark((function t(e){var r,n;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,u.get("movie/".concat(e,"?api_key=").concat(i));case 2:return r=t.sent,n=r.data,t.abrupt("return",n);case 5:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function v(t){return _.apply(this,arguments)}function _(){return(_=(0,n.Z)(s().mark((function t(e){var r,n;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,u.get("movie/".concat(e,"/credits?api_key=").concat(i));case 2:return r=t.sent,n=r.data,t.abrupt("return",n);case 5:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function d(t){return x.apply(this,arguments)}function x(){return(x=(0,n.Z)(s().mark((function t(e){var r,n;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,u.get("movie/".concat(e,"/reviews?api_key=").concat(i));case 2:return r=t.sent,n=r.data,t.abrupt("return",n);case 5:case"end":return t.stop()}}),t)})))).apply(this,arguments)}},9841:function(t,e,r){t.exports=r.p+"static/media/noImgMovie.b667e504c8d4ca61dab3.jpg"}}]);
//# sourceMappingURL=496.ca85fae7.chunk.js.map